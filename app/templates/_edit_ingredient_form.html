<form hx-post="/edit_ingredient/{{ ingredient.id }}" hx-target="closest li" hx-swap="outerHTML" class="edit-form">
    <input type="hidden" name="view_name" value="{{ view_name or 'pantry' }}">
    <div class="form-inputs">
        <input type="text" name="name" value="{{ ingredient.name }}" required>
        <input type="text" name="quantity" value="{{ '%.2f'|format(ingredient.display_quantity) }}" required>
        <select name="unit">
            {% for unit in ingredient.compatible_units %}
            <option value="{{ unit }}" {% if unit == ingredient.display_unit %}selected{% endif %}>
                {{ unit }}
            </option>
            {% endfor %}
        </select>
        <select name="category">
            {% for category in categories %}
            <option value="{{ category }}" {% if category == ingredient.category %}selected{% endif %}>
                {{ category }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div class="form-buttons">
        <button type="submit" class="save-btn">Save</button>
        <button type="button" hx-get="/ingredient/{{ ingredient.id }}?view_name={{ view_name or 'pantry' }}" hx-target="closest li" hx-swap="outerHTML" class="cancel-btn">Cancel</button>
        <button type="button" hx-delete="/delete_ingredient/{{ ingredient.id }}" hx-confirm="Are you sure?" hx-target="closest li" hx-swap="outerHTML" class="delete-btn">Delete</button>
    </div>
</form>
