<!-- Add Ingredient Section -->
<h2>Add Ingredient</h2>
<form id="add-ingredient-form" hx-post="/add_ingredient" hx-target="#ingredient-list-container" hx-swap="innerHTML" hx-on:htmx:after-request="if(event.detail.requestConfig.verb === 'post') this.reset()">
    <input type="text" name="ingredient_name" placeholder="Enter ingredient name" required
           hx-get="/search" hx-trigger="keyup changed delay:300ms" hx-target="#search-results"
           autocomplete="off">
    <div id="search-results"></div>
    <input type="number" name="quantity" placeholder="Quantity" value="1" min="0" step="any">
    <input type="text" name="unit" placeholder="Unit (e.g., g, ml, cup, oz)" list="unit-suggestions">
    <datalist id="unit-suggestions">
        <option value="g">
        <option value="kg">
        <option value="lb">
        <option value="oz">
        <option value="ml">
        <option value="l">
        <option value="cup">
        <option value="tbsp">
        <option value="tablespoon">
        <option value="tsp">
        <option value="teaspoon">
        <option value="unit">
    </datalist>
    <button type="submit">Add Ingredient</button>
</form>
<div class="small-text">Acceptable units: g, kg, lb, oz, ml, l, cup, tbsp, tablespoon, tsp, teaspoon, unit.</div>

<!-- Area for server-side prompts like unit conversions -->
<div id="user-prompts"></div>

<hr>

<h2>Batch Add Ingredients</h2>
<form id="batch-add-form" hx-post="/batch_add_ingredients" hx-target="#ingredient-list-container" hx-swap="innerHTML" hx-on:htmx:after-request="this.reset()">
    <textarea name="ingredients_list" placeholder="Enter a comma-separated list of ingredients (e.g., carrots, onions, celery)" rows="3"></textarea>
    <button type="submit">Batch Add</button>
</form>
<div class="small-text">This will add new ingredients with a quantity of 0. You can edit the details later.</div>

<hr>

<!-- Pantry List -->
<h2>My Pantry</h2>
<div id="ingredient-list-container">
    {% with show_edit_buttons=True %}
        {% include '_ingredients_list.html' %}
    {% endwith %}
</div>
