<!-- templates/add_asset.html -->
{% extends "base.html" %}
{% block content %}
<div class="bg-white rounded-lg shadow p-6">
    <h2 class="text-xl font-semibold mb-4">Add New Asset</h2>
    <form hx-post="/assets/add" hx-target="#main-content">
        <div class="space-y-4">
            <div>
                <label class="block text-sm font-medium text-gray-700">Asset Type</label>
                <select name="asset_type" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                    {% for type in asset_types %}
                        <option value="{{ type }}">{{ type }}</option>
                    {% endfor %}
                </select>
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700">Asset Tag</label>
                <input type="text" 
                       name="asset_tag" 
                       required 
                       pattern="[A-Za-z0-9-]+" 
                       title="Only letters, numbers, and hyphens are allowed"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
                <p class="mt-1 text-sm text-gray-500">Asset tag will be automatically converted to uppercase</p>
            </div>

            {% for field in custom_fields %}
            <div>
                <label class="block text-sm font-medium text-gray-700">{{ field.name }}</label>
                <input type="{{ field.type }}"
                       name="custom_field_{{ field.id }}"
                       class="mt-1 block w-full rounded-md border-gray-300 shadow-sm">
            </div>
            {% endfor %}

            <button type="submit" 
                class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                Add Asset
            </button>
        </div>
    </form>
</div>
{% endblock %}